{% extends 'report_html_stock/reports/base.html' %}

{% block title %}
  Picking List
{% endblock %}

{% block main %}
    {% for shipment in records %}
      <div class="container-fluid {% if not loop.first %}page-break{% endif %}">
        <div class="row">
          {% block header scoped %}
            <div class="col-xs-6">
              <div>
                {% block header_logo %}
                {% endblock %}
              </div>
            </div>
            <div class="col-xs-6">
              <div class="row">
                <div class="col-xs-12">
                  <span class="h3">Picking List</span>
                </div>
              </div>
              <div class="row" style="padding-top:20px;">
                <div class="col-xs-5">
                  <strong>Shipment #</strong>
                </div>
                <div class="col-xs-7">
                  {{ shipment.code }}
                </div>
              </div>
              <div class="row">
                <div class="col-xs-5">
                  <strong>Planned Date:</strong>
                </div>
                <div class="col-xs-7">
                  {{ shipment.planned_date and shipment.planned_date|dateformat }}
                </div>
              </div>
              <div class="row">
                <div class="col-xs-5">
                  <strong>Customer:</strong>
                </div>
                <div class="col-xs-7">
                  {{ shipment.customer.rec_name }}
                </div>
              </div>
            </div>
          {% endblock %} 
        </div>
        <div class="row top20">
          <div class="col-xs-12">
            <table class="table">
              <thead>
                <th>#</th>
                <th>From Location</th>
                <th>To Location</th>
                <th>Product</th>
                <th class="text-right">Quantity</th>
              </thead>
              <tbody>
                {% for move in moves[shipment.id] %}
                <tr>
                  <td>{{ loop.index }}</td>
                  <td>{{ move.from_location.rec_name }}</td>
                  <td>{{ move.to_location.rec_name }}</td>
                  <td>{{ move.product.code }} - {{ move.product.name }}</td>
                  <td class="text-right">{{ formatLang(move.quantity, shipment.customer.lang, digits=move.unit_digits) }} {% if move.uom.symbol != 'u' %}{{ move.uom.symbol }}{% endif %}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    {% endfor %}
{% endblock %}
